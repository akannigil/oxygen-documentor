# ============================================================================
# Configuration de Production - Oxygen Document
# ============================================================================
# Copiez ce fichier en .env.production et remplissez les valeurs
# IMPORTANT: Ne committez JAMAIS le fichier .env.production avec vos secrets!

# ============================================================================
# Application
# ============================================================================
NODE_ENV=production
APP_PORT=3000

# URL publique de l'application (utilisée par NextAuth et les emails)
NEXTAUTH_URL=https://votre-domaine.com

# Secret pour NextAuth (générer avec: openssl rand -base64 32)
NEXTAUTH_SECRET=votre-secret-nextauth-tres-long-et-aleatoire

# ============================================================================
# Base de données PostgreSQL
# ============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=votre-mot-de-passe-postgres-securise
POSTGRES_DB=oxygen_document

# URL de connexion complète (générée automatiquement par docker-compose)
# Format: postgresql://user:password@host:port/database?schema=public
DATABASE_URL=postgresql://postgres:votre-mot-de-passe-postgres-securise@postgres:5432/oxygen_document?schema=public

# ============================================================================
# Redis (Cache & Queue BullMQ)
# ============================================================================
REDIS_PASSWORD=votre-mot-de-passe-redis-securise
REDIS_URL=redis://:votre-mot-de-passe-redis-securise@redis:6379

# ============================================================================
# Stockage des fichiers
# ============================================================================
# Options: "s3" | "ftp" | "local"
STORAGE_TYPE=s3

# --- Configuration S3 (si STORAGE_TYPE=s3) ---
AWS_REGION=eu-west-3
AWS_ACCESS_KEY_ID=votre-access-key-id
AWS_SECRET_ACCESS_KEY=votre-secret-access-key
AWS_S3_BUCKET=oxygen-document-bucket

# Optionnel: Pour les services S3 compatibles comme MinIO ou DigitalOcean Spaces
# Décommentez et configurez si vous n'utilisez pas AWS S3 standard.
# S3_ENDPOINT=https://s3.votredomaine.com
# MINIO_ENDPOINT=https://s3.votredomaine.com
# S3_FORCE_PATH_STYLE=true # Souvent nécessaire pour les endpoints S3 compatibles


# --- Configuration FTP (si STORAGE_TYPE=ftp) ---
FTP_HOST=ftp.example.com
FTP_PORT=21
FTP_USER=votre-user-ftp
FTP_PASSWORD=votre-password-ftp
FTP_BASE_PATH=/uploads

# ============================================================================
# Email
# ============================================================================
# Options: "resend" | "smtp"
EMAIL_PROVIDER=resend

# --- Configuration Resend (si EMAIL_PROVIDER=resend) ---
RESEND_API_KEY=re_votre_cle_api_resend

# --- Configuration SMTP (si EMAIL_PROVIDER=smtp) ---
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=votre-email@example.com
SMTP_PASSWORD=votre-password-smtp
SMTP_FROM=noreply@example.com
SMTP_FROM_NAME=Oxygen Document

# ============================================================================
# Sécurité & Performance
# ============================================================================
# Désactiver la télémétrie Next.js
NEXT_TELEMETRY_DISABLED=1

# Workers BullMQ (en production, ils démarrent automatiquement)
ENABLE_WORKERS_IN_DEV=false

# ============================================================================
# Puppeteer (pour génération PDF)
# ============================================================================
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true

